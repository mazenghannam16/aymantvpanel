<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª - AYMAN TV</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;400&display=swap" rel="stylesheet">
Â  Â  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-bg: #011025;
Â  Â  Â  Â  Â  Â  --container-bg: #0d1b2a;
Â  Â  Â  Â  Â  Â  --input-bg: #1b263b;
Â  Â  Â  Â  Â  Â  --accent-color: #007bff;
Â  Â  Â  Â  Â  Â  --delete-color: #dc3545;
Â  Â  Â  Â  Â  Â  --edit-color: #ffc107;
Â  Â  Â  Â  Â  Â  --edit-text: #000;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Cairo', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: var(--primary-bg);
Â  Â  Â  Â  Â  Â  color: #e0e0e0;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  width: 95%;
Â  Â  Â  Â  Â  Â  max-width: 900px;
Â  Â  Â  Â  Â  Â  background-color: var(--container-bg);
Â  Â  Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 25px rgba(0,0,0,.7);
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1, h2, h3 {
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid var(--input-bg);
Â  Â  Â  Â  Â  Â  padding-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  }

Â  Â  Â  Â  input[type=text], input[type=url], input[type=number] {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 14px;
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  background-color: var(--input-bg);
Â  Â  Â  Â  Â  Â  border: 1px solid #444;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  }

Â  Â  Â  Â  button, a.btn {
Â  Â  Â  Â  Â  Â  background-color: var(--accent-color);
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  padding: 14px 20px;
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  transition: all .3s ease;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  }

Â  Â  Â  Â  button:hover, a.btn:hover {
Â  Â  Â  Â  Â  Â  background-color: #0056b3;
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  }

Â  Â  Â  Â  table {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  th, td {
Â  Â  Â  Â  Â  Â  border: 1px solid var(--input-bg);
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  }

Â  Â  Â  Â  th {
Â  Â  Â  Â  Â  Â  background-color: var(--accent-color);
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  }

Â  Â  Â  Â  td img {
Â  Â  Â  Â  Â  Â  max-width: 60px;
Â  Â  Â  Â  Â  Â  height: 40px;
Â  Â  Â  Â  Â  Â  object-fit: contain;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  }

Â  Â  Â  Â  .actions button {
Â  Â  Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  Â  Â  padding: 8px 12px;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  margin: 0 5px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  display: inline-flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 4px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn-delete { background-color: var(--delete-color); }
Â  Â  Â  Â  .btn-delete:hover { background-color: #c82333; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
Â  Â  Â  Â  .btn-edit { background-color: var(--edit-color); color: var(--edit-text); }
Â  Â  Â  Â  .btn-edit:hover { background-color: #e0a800; }


Â  Â  Â  Â  a.back-link {
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  background-color: #6c757d;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 6px;
Â  Â  Â  Â  }

Â  Â  Â  Â  a.back-link:hover { background-color: #5a6268; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Modal Style */
Â  Â  Â  Â  .modal-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.8);
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: var(--container-bg);
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.9);
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <a href="categories.html" class="back-link">
Â  Â  Â  Â  <span class="material-icons">arrow_back</span> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù‚Ø³Ø§Ù…
Â  Â  </a>

Â  Â  <h1 id="categoryTitle">Ø¥Ø¯Ø§Ø±Ø© Ù‚Ù†ÙˆØ§Øª: </h1>

Â  Â  <div class="container">
Â  Â  Â  Â  <h2>Ø¥Ø¶Ø§ÙØ© Ù‚Ù†Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
Â  Â  Â  Â  <form id="addChannelForm">
Â  Â  Â  Â  Â  Â  <input type="text" id="channelName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  <input type="url" id="channelLogoUrl" placeholder="Ø±Ø§Ø¨Ø· Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  <input type="url" id="channelStreamUrl" placeholder="Ø±Ø§Ø¨Ø· Ø¨Ø« Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  <input type="number" id="channelPosition" placeholder="ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚Ù†Ø§Ø© (Ø±Ù‚Ù…)" value="0" min="0" required>Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button type="submit">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="material-icons">add_circle</span> Ø¥Ø¶Ø§ÙØ© Ù‚Ù†Ø§Ø©
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </form>

Â  Â  Â  Â  <h3>Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø³Ù…</h3>
Â  Â  Â  Â  <table id="channelsTable">
Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„ØªØ±ØªÙŠØ¨</th> <th>Ø§Ù„Ù„ÙˆØ¬Ùˆ</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  <tbody></tbody>
Â  Â  Â  Â  </table>
Â  Â  </div>

Â  Â  <div id="editChannelModal" class="modal-overlay">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <h3>ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø©</h3>
Â  Â  Â  Â  Â  Â  <form id="editChannelForm">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="hidden" id="editChannelId">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="editChannelName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="url" id="editChannelLogoUrl" placeholder="Ø±Ø§Ø¨Ø· Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="url" id="editChannelStreamUrl" placeholder="Ø±Ø§Ø¨Ø· Ø¨Ø« Ø§Ù„Ù‚Ù†Ø§Ø©" required>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="editChannelPosition" placeholder="ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚Ù†Ø§Ø© (Ø±Ù‚Ù…)" min="0" required>Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" style="background-color: var(--edit-color); color: var(--edit-text);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="material-icons">save</span> Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" onclick="document.getElementById('editChannelModal').style.display='none';" style="background-color: var(--delete-color);">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="material-icons">close</span> Ø¥Ù„ØºØ§Ø¡
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
Â  Â  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
Â  Â  <script>
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  const firebaseConfig = {
Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyDLJFcW7u6RNgfqEDpX03QLYn9h_Qcytt8",
Â  Â  Â  Â  Â  Â  authDomain: "ayman-tv-app.firebaseapp.com",
Â  Â  Â  Â  Â  Â  databaseURL: "https://ayman-tv-app-default-rtdb.firebaseio.com",
Â  Â  Â  Â  Â  Â  projectId: "ayman-tv-app",
Â  Â  Â  Â  Â  Â  storageBucket: "ayman-tv-app.firebasestorage.app",
Â  Â  Â  Â  Â  Â  messagingSenderId: "928578407858",
Â  Â  Â  Â  Â  Â  appId: "1:928578407858:web:7395e2aaea84ee04dde8ab"
Â  Â  Â  Â  };
Â  Â  Â  Â  firebase.initializeApp(firebaseConfig);
Â  Â  Â  Â  const database = firebase.database();

Â  Â  Â  Â  // Ø¬Ù„Ø¨ ID ÙˆØ§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
Â  Â  Â  Â  const params = new URLSearchParams(window.location.search);
Â  Â  Â  Â  const categoryId = params.get('id');
Â  Â  Â  Â  const categoryName = decodeURIComponent(params.get('name') || '');
Â  Â  Â  Â Â 
Â  Â  Â  Â  if(!categoryId){
Â  Â  Â  Â  Â  Â  alert('Ø®Ø·Ø£: Ù„Ø§ ÙŠÙˆØ¬Ø¯ ID Ù„Ù„Ù‚Ø³Ù… ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·');
Â  Â  Â  Â  Â  Â  document.getElementById('categoryTitle').innerText = 'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø³Ù…';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  document.getElementById('categoryTitle').innerText += `"${categoryName}"`;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Ø§Ù„Ù…Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù‚Ø³Ù…
Â  Â  Â  Â  const channelsRef = database.ref(`ayman_tv/channels/${categoryId}`);
Â  Â  Â  Â  const tableBody = document.getElementById('channelsTable').querySelector('tbody');

Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  // 1. Ù…Ù†Ø·Ù‚ Ø¥Ø¶Ø§ÙØ© Ù‚Ù†Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù…ÙØ¹Ø¯Ù„)
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  const addChannelForm = document.getElementById('addChannelForm');
Â  Â  Â  Â  addChannelForm.addEventListener('submit', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  const name = document.getElementById('channelName').value.trim();
Â  Â  Â  Â  Â  Â  const logoUrl = document.getElementById('channelLogoUrl').value.trim();
Â  Â  Â  Â  Â  Â  const streamUrl = document.getElementById('channelStreamUrl').value.trim();
Â  Â  Â  Â  Â  Â  // ğŸš¨ Ø¬Ù„Ø¨ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¥Ù„Ù‰ Ø±Ù‚Ù…
Â  Â  Â  Â  Â  Â  const position = parseInt(document.getElementById('channelPosition').value) || 0;Â 

Â  Â  Â  Â  Â  Â  if(!name || !logoUrl || !streamUrl) return alert('Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©');

Â  Â  Â  Â  Â  Â  // ğŸš¨ Ø­ÙØ¸ Ø­Ù‚Ù„ Ø§Ù„ØªØ±ØªÙŠØ¨ position Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
Â  Â  Â  Â  Â  Â  channelsRef.push().set({ name, logoUrl, streamUrl, position })Â 
Â  Â  Â  Â  Â  Â  Â  Â  .then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  addChannelForm.reset();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('channelPosition').value = 0; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => alert('âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©: ' + error.message));
Â  Â  Â  Â  });

Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  // 2. Ù…Ù†Ø·Ù‚ Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª (Ù…ÙØ¹Ø¯Ù„)
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  function loadChannels() {
Â  Â  Â  Â  Â  Â  // ğŸš¨ Ø§Ù„ÙØ±Ø² Ø­Ø³Ø¨ Ø­Ù‚Ù„ 'position' Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ±ØªÙŠØ¨ Ù…Ù† 1 ÙØ£ÙƒØ¨Ø± (ØªØµØ§Ø¹Ø¯ÙŠ)
Â  Â  Â  Â  Â  Â  channelsRef.orderByChild('position').on('value', snapshot => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  tableBody.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  if(!snapshot.exists()){
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tableBody.innerHTML = `<tr><td colspan="4" style="text-align:center; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ù†ÙˆØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù….</td></tr>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  snapshot.forEach(child => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const channelId = child.key;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const channelData = child.val();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const row = tableBody.insertRow();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${channelData.position !== undefined ? channelData.position : '0'}</td> <td><img src="${channelData.logoUrl}" alt="logo"></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${channelData.name}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="actions">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-edit" onclick="editChannel('${channelId}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="material-icons">edit</span> ØªØ¹Ø¯ÙŠÙ„
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-delete" onclick="deleteChannel('${channelId}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="material-icons">delete</span> Ø­Ø°Ù
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  // 3. Ù…Ù†Ø·Ù‚ Ø­Ø°Ù Ø§Ù„Ù‚Ù†Ø§Ø© (Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±)
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  window.deleteChannel = function(channelId){
Â  Â  Â  Â  Â  Â  if(confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ù†Ø§Ø©ØŸ')){
Â  Â  Â  Â  Â  Â  Â  Â  channelsRef.child(channelId).remove()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(()=> alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!'))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(err=> alert('âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù: '+err.message));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  // 4. Ù…Ù†Ø·Ù‚ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ù†Ø§Ø© (Ù…ÙØ¹Ø¯Ù„)
Â  Â  Â  Â  // ======================================================
Â  Â  Â  Â  const editChannelModal = document.getElementById('editChannelModal');
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.editChannel = function(channelId) {
Â  Â  Â  Â  Â  Â  channelsRef.child(channelId).once('value').then(snapshot => {
Â  Â  Â  Â  Â  Â  Â  Â  const data = snapshot.val();
Â  Â  Â  Â  Â  Â  Â  Â  if(data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('editChannelId').value = channelId;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('editChannelName').value = data.name;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('editChannelLogoUrl').value = data.logoUrl;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('editChannelStreamUrl').value = data.streamUrl;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ğŸš¨ Ø¬Ù„Ø¨ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ Ù„Ø¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('editChannelPosition').value = data.position !== undefined ? data.position : 0;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  editChannelModal.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }).catch(error => alert('âŒ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø©: ' + error.message));
Â  Â  Â  Â  }

Â  Â  Â  Â  const editChannelForm = document.getElementById('editChannelForm');
Â  Â  Â  Â  editChannelForm.addEventListener('submit', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  const channelId = document.getElementById('editChannelId').value;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ğŸš¨ Ø¬Ù„Ø¨ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
Â  Â  Â  Â  Â  Â  const newPosition = parseInt(document.getElementById('editChannelPosition').value) || 0;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const updatedData = {
Â  Â  Â  Â  Â  Â  Â  Â  name: document.getElementById('editChannelName').value.trim(),
Â  Â  Â  Â  Â  Â  Â  Â  logoUrl: document.getElementById('editChannelLogoUrl').value.trim(),
Â  Â  Â  Â  Â  Â  Â  Â  streamUrl: document.getElementById('editChannelStreamUrl').value.trim(),
Â  Â  Â  Â  Â  Â  Â  Â  position: newPosition // ğŸš¨ Ø¥Ø±Ø³Ø§Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  if(!updatedData.name || !updatedData.logoUrl || !updatedData.streamUrl) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  channelsRef.child(channelId).update(updatedData)
Â  Â  Â  Â  Â  Â  Â  Â  .then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… ØªÙ… Ø­ÙØ¸ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  editChannelModal.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => alert('âŒ ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª: ' + error.message));
Â  Â  Â  Â  });

Â  Â  Â  Â  window.onload = loadChannels;
Â  Â  </script>
</body>
</html>
